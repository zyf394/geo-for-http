{"version":3,"sources":["./lib/geo.js"],"names":["Object","defineProperty","exports","value","_bluebird","require","_bluebird2","_interopRequireDefault","obj","__esModule","default","geo","register","getCurrentPosition","DEFAULT_APP_NAME","Date","DEFAULT_APP_KEY","MAP_TYPES","HTML5","type","map_js_url","app_key","app_name","QQMAP","BMAP","AMAP","GMAP","ERROR_TYPE","1","2","3","util","isHttps","window","location","protocol","isSupportGeo","navigator","geolocation","isObject","prototype","toString","call","isFunction","cacheURL","appInfo","arguments","length","undefined","mapKeys","keys","targetMap","filter","item","index","mapType","posOptions","resolve","reject","_H5Location","successFn","errorFn","_useMapLocation","pos","position","coords","lat","latitude","lng","longitude","maptype","point","err","code","console","error","message","_AMapLocation","_BMapLocation","_QQMapLocation","_getScript","then","aMapWrapId","map","createAMap","AMap","Map","plugin","Geolocation","onComplete","status","result","next","container","document","createElement","id","style","display","body","appendChild","BMap","this","getStatus","BMAP_STATUS_SUCCESS","qq","maps","getLocation","mapJsUrl","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","Symbol","iterator","_step","done","url","return","sc","src","onload","onreadystatechange","readyState","test","push","onerror","module"],"mappings":"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","file":"./lib/geo.min.js"}